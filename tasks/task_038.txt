# Task ID: 38
# Title: Complete Scheduler Integration for Timeouts
# Status: pending
# Dependencies: 5, 8, 9, 10, 15, 37
# Priority: high
# Description: Integrate the task scheduler into TurnService, direct-message-handler, and SchedulerService to handle claim timeouts, submission timeouts, and season activation timeouts based on existing TODO comments.
# Details:
Locate the TODO comments in `TurnService.ts` (around lines 56 and 83), `direct-message-handler.ts` (around line 175), and `SchedulerService.ts` (around line 364). Implement the necessary logic to interact with the integrated Task Scheduler (Task 15). In TurnService, schedule claim timeouts when a turn is offered and potentially handle setting expiration times. In direct-message-handler, ensure the submission timeout handler is correctly registered and triggered by the scheduler. In SchedulerService, implement the logic to schedule and handle the season activation timeout, transitioning the season from PENDING to ACTIVE if the timeout occurs before max players are reached. Utilize the timeout configuration values integrated in Task 37.

# Test Strategy:
Create a test season with short `claim_timeout`, `writing_timeout`, `drawing_timeout`, and `open_duration` values (e.g., 1 minute). Test the claim timeout by offering a turn and waiting for the timeout to occur, verifying the turn reverts to AVAILABLE and is re-offered. Test submission timeouts by claiming a turn (writing/drawing) and waiting for the timeout, verifying the turn is skipped. Test season activation timeout by creating a season with a short `open_duration` but less than max players, waiting for the timeout, and verifying the season transitions to ACTIVE and turns are offered.
