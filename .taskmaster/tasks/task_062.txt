# Task ID: 62
# Title: Improve Timeout Duration Display Format
# Status: pending
# Dependencies: 5, 9, 10
# Priority: medium
# Description: Update the display format for remaining time in timeout messages (claim and submission) to show precise durations like "3m44s", "1h23m", or "2d5h" instead of imprecise formats like "0 minutes remaining".
# Details:
Identify all locations where timeout remaining time is displayed to the user (primarily in Direct Messages related to offered and pending turns). For each location, retrieve the relevant timeout duration (claim_timeout or submission_timeout) and the timestamp when the current turn state (OFFERED or PENDING) began. Calculate the time remaining by subtracting the current time from the state start time plus the timeout duration. Implement a utility function or method to format a duration (in seconds) into a human-readable, precise string format (e.g., "XdYhZmWs"). The format should adapt based on the duration (days, hours, minutes, seconds). Replace the existing imprecise time display logic with the new calculation and formatting logic. Ensure the formatting handles durations correctly, including cases where the time is very short or very long. Consider edge cases like negative time remaining (should ideally not happen if warnings are sent before timeout, but robust formatting should handle it gracefully, perhaps showing "Expired" or "0s"). The implementation should be consistent across all affected messages.

# Test Strategy:
**Unit Tests:** Write unit tests for the duration formatting utility function, covering various inputs (0 seconds, less than a minute, less than an hour, less than a day, multiple days) to ensure correct output formats (e.g., "0s", "30s", "5m10s", "1h30m", "2d4h"). Test edge cases like very large durations or potentially negative inputs (if applicable). **Integration Tests:** Set up test scenarios for both claim and submission timeouts. Manually or programmatically advance time to trigger timeout warning messages at different remaining durations (e.g., just under a minute, just under an hour, just under a day). Verify that the displayed remaining time in the warning messages uses the new precise format and accurately reflects the actual time left. Test with different configured timeout durations (short and long) to ensure the formatting adapts correctly. Verify that the format is consistent across all messages where timeout duration is displayed.
